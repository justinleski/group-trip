<html>
	<head>
		<title>GroupTrip</title>
		<script src="https://cdn.tailwindcss.com"></script>
		<link rel="stylesheet" href="/style.css" />
	</head>

	<body class="bg-gray-100 min-h-screen flex flex-col">
		<%- include("components/nav") %>

		<main class="flex-grow container mx-auto px-4 py-8">
			<div class="flex justify-between items-center mb-6">
				<h2 class="text-2xl font-semibold text-gray-700">Your Trips</h2>
				<a href="/trip-overview/new">
					<button
						class="text-white bg-emerald-700 hover:bg-emerald-800 focus:outline-none focus:ring-4 focus:ring-emerald-300 font-medium rounded-full text-sm px-5 py-2.5 text-center dark:bg-emerald-600 dark:hover:bg-emerald-700 dark:focus:ring-emerald-800"
					>
						âž• Add New Trip
					</button>
				</a>
			</div>

			<% if (trips.length === 0) { %>
			<p class="text-gray-500 italic">You haven't joined or created any trips yet.</p>
			<% } else { %>
			<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
				<% trips.forEach(trip => { %>
				<a href="/trip-overview/<%= trip.id %>">
					<div class="bg-white p-5 rounded-xl shadow hover:shadow-md transition hover:bg-emerald-50 cursor-pointer">
						<h2 class="text-xl font-semibold text-emerald-700 mb-2"><%= trip.name %></h2>
						<p class="text-sm font-medium text-gray-500 mb-1">Participants:</p>
						<ul class="list-disc list-inside text-gray-700 text-sm space-y-1">
							<% trip.participants.forEach(person => { %>
							<li><%= person.username %></li>
							<% }) %>
						</ul>
					</div>
				</a>
				<% }); %>
			</div>
			<% } %>
		</main>

		<footer class="bg-white text-center text-gray-400 text-sm py-4">
			&copy; <%= new Date().getFullYear() %> GroupTrip. All rights reserved.
		</footer>
	</body>
</html>
